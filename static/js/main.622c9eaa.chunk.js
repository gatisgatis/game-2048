(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{1:function(t,e,r){t.exports={contentWrapper:"App_contentWrapper__NRBO2",popupWrapper:"App_popupWrapper__1KNUp",popupCloseButton:"App_popupCloseButton__1A8qc",popup:"App_popup__fnS2L",popupTitle:"App_popupTitle__1dzie",popupButton:"App_popupButton__C8dyt",header:"App_header__2O_sm",title:"App_title__1Hxva",titleBig:"App_titleBig__3f4R2",titleSmall:"App_titleSmall__1RXSO",restartButton:"App_restartButton__rbdMu",scores:"App_scores__2QYLi",best:"App_best__32ga7",gridWrapper:"App_gridWrapper__16nn9",cell:"App_cell__Kvnv2",number:"App_number__VIpar",rules:"App_rules__27hDS",showArrowsButton:"App_showArrowsButton__2JG6a",controlsWrapper:"App_controlsWrapper__3RCl-",controlButtonWrapper:"App_controlButtonWrapper__3SVrZ",controlButton:"App_controlButton__1YJ25"}},15:function(t,e,r){},18:function(t,e,r){"use strict";r.r(e);var n=r(0),c=r(3),o=r.n(c),a=r(9),s=r.n(a),u=(r(15),r(6)),p=r(20),i=r(1),l=r.n(i),b=r(2),j=r(4),d=r.n(j),O={ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right"},f=function(t,e){for(var r=Math.floor(t),n=[],c=0;c<r;c++)n.push(e);return n},h=function(t){for(var e=Object(b.a)(t),r=!1;!r;){var n=d.a.random(0,t.length-1);e[n]||(e[n]=d.a.random(10,!0)>9?4:2,r=!0)}return e},_=function(){var t=f(16,0);return t=h(t),h(t)},m=function(t,e){var r=[];if("left"===e||"right"===e)for(var n=0;n<4;n++)r.push(t.slice(4*n,4*n+4));if("up"===e||"down"===e)for(var c=0;c<4;c++){for(var o=[],a=0;a<4;a++)o.push(t[c+4*a]);r.push(o)}return r},v=function(t){for(var e=Object(b.a)(t),r=3;r>0;r--)for(var n=r-1;n>=0;n--)if(e[r]&&e[n]){if(e[r]!==e[n])break;e[r]*=2,e[n]=0;break}return e},A=function(t,e){if(!Object.keys(O).includes(e))return Object(b.a)(t);var r=O["".concat(e)],n=Object(b.a)(t),c=function(t,e){var r=[];return m(t,e).forEach((function(t,n){switch(e){case"right":r.push.apply(r,Object(b.a)(v(t)));break;case"left":t.reverse(),r.push.apply(r,Object(b.a)(v(t).reverse()));break;case"up":t.reverse(),t=v(t).reverse();for(var c=0;c<4;c++)r[4*c+n]=t[c];break;case"down":t=v(t);for(var o=0;o<4;o++)r[4*o+n]=t[o]}})),r}(t,r);return c=function(t,e){var r=[];return m(t,e).forEach((function(t,n){var c=t.filter((function(t){return t})),o=4-c.length,a=f(o,0),s=[];if("right"===e)s=[].concat(Object(b.a)(a),Object(b.a)(c)),r.push.apply(r,Object(b.a)(s));else if("left"===e)s=[].concat(Object(b.a)(c),Object(b.a)(a)),r.push.apply(r,Object(b.a)(s));else if("up"===e){s=[].concat(Object(b.a)(c),Object(b.a)(a));for(var u=0;u<4;u++)r[4*u+n]=s[u]}else{s=[].concat(Object(b.a)(a),Object(b.a)(c));for(var p=0;p<4;p++)r[4*p+n]=s[p]}})),r}(c,r),d.a.isEqual(n,c)||(c=h(c)),c},N=function(t){return t.reduce((function(t,e){return t+e}),0)},x=function(t){var e="5rem";return t>99999?e="1.5rem":t>9999?e="2rem":t>999?e="2.5rem":t>99?e="3rem":t>9&&(e="4rem"),e},w=function(t){var e=200+.5*t,r=200+.2*t;return"rgb(".concat(255-.5*t,", ").concat(e,", ").concat(r,")")},B=function(){var t=Object(c.useState)(""),e=Object(u.a)(t,2),r=e[0],o=e[1],a=Object(c.useState)(!1),s=Object(u.a)(a,2),i=s[0],b=s[1],j=Object(c.useState)(!1),O=Object(u.a)(j,2),f=O[0],h=O[1],m=Object(c.useState)(!1),v=Object(u.a)(m,2),B=v[0],g=v[1],y=Object(c.useRef)(_()),C=Object(c.useRef)(N(y.current)),E=Object(c.useRef)(1e4),k=function(t){o(t.key)};return Object(c.useEffect)((function(){return document.body.addEventListener("keydown",k),function(){document.body.removeEventListener("keydown",k)}}),[]),Object(c.useEffect)((function(){r&&(y.current=A(y.current,r),C.current=N(y.current),function(t){var e=d.a.isEqual(t,A(t,"ArrowRight")),r=d.a.isEqual(t,A(t,"ArrowLeft")),n=d.a.isEqual(t,A(t,"ArrowUp")),c=d.a.isEqual(t,A(t,"ArrowDown"));return!!(n&&c&&r&&e)}(y.current)&&b(!0),y.current.includes(2048)&&h(!0),o(""))}),[r]),Object(n.jsxs)("div",{className:l.a.contentWrapper,children:[Object(n.jsxs)("div",{className:l.a.header,children:[Object(n.jsxs)("div",{className:l.a.title,children:[Object(n.jsx)("span",{className:l.a.titleBig,children:"2048 "}),Object(n.jsx)("span",{className:l.a.titleSmall,children:"THE GAME"})]}),Object(n.jsx)("button",{type:"button",className:l.a.restartButton,onClick:function(){y.current=_(),o("restart")},children:"RESTART"}),Object(n.jsxs)("div",{className:l.a.scores,children:[Object(n.jsxs)("div",{className:l.a.best,children:["BEST: ",E.current]}),Object(n.jsxs)("div",{className:l.a.currentScore,children:["SCORE: ",C.current]})]})]}),i&&Object(n.jsxs)("div",{className:l.a.popupWrapper,children:[Object(n.jsx)("button",{type:"button",className:l.a.popupCloseButton,onClick:function(){return b(!i)},children:"CLOSE"}),Object(n.jsxs)("div",{className:l.a.popup,children:[Object(n.jsx)("span",{className:l.a.popupTitle,children:"GAME OVER"}),Object(n.jsx)("button",{type:"button",className:l.a.popupButton,onClick:function(){y.current=_(),o("restart"),b(!i)},children:"PLAY AGAIN"})]})]}),f&&Object(n.jsxs)("div",{className:l.a.popupWrapper,children:[Object(n.jsx)("button",{type:"button",className:l.a.popupCloseButton,onClick:function(){return h(!f)},children:"CLOSE"}),Object(n.jsxs)("div",{className:l.a.popup,children:[Object(n.jsx)("span",{className:l.a.popupTitle,children:"YOU WON"}),Object(n.jsx)("button",{className:l.a.popupButton,type:"button",onClick:function(){return h(!f)},children:"CONTINUE PLAYING"})]})]}),Object(n.jsx)("div",{className:l.a.gridWrapper,children:y.current.map((function(t){return Object(n.jsx)("div",{className:l.a.cell,style:{backgroundColor:w(t),color:0===t?"transparent":" rgb(60, 60, 60)",fontSize:x(t)},children:Object(n.jsx)("div",{className:l.a.number,children:t})},Object(p.a)())}))}),B&&Object(n.jsxs)("div",{className:l.a.controlsWrapper,children:[Object(n.jsx)("div",{className:l.a.controlButtonWrapper,children:Object(n.jsx)("button",{type:"button",className:l.a.controlButton,onClick:function(){return o("ArrowUp")},children:"UP"})}),Object(n.jsxs)("div",{className:l.a.controlButtonWrapper,children:[Object(n.jsx)("button",{type:"button",className:l.a.controlButton,onClick:function(){return o("ArrowLeft")},children:"LEFT"}),Object(n.jsx)("button",{type:"button",className:l.a.controlButton,onClick:function(){return o("ArrowRight")},children:"RIGHT"})]}),Object(n.jsx)("div",{className:l.a.controlButtonWrapper,children:Object(n.jsx)("button",{type:"button",className:l.a.controlButton,onClick:function(){return o("ArrowDown")},children:"DOWN"})})]}),Object(n.jsxs)("div",{className:l.a.rules,children:["HOW TO PLAY: Use your arrow keys (or controls on screen) to move the tiles. Tiles with the same number merge into one when they touch. Add them up to reach 2048!",Object(n.jsx)("button",{type:"button",className:l.a.showArrowsButton,onClick:function(){g(!B)},children:B?"HIDE CONTROLS":"SHOW CONTROLS"})]})]})},g=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,21)).then((function(e){var r=e.getCLS,n=e.getFID,c=e.getFCP,o=e.getLCP,a=e.getTTFB;r(t),n(t),c(t),o(t),a(t)}))};s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(B,{})}),document.getElementById("root")),g()}},[[18,1,2]]]);
//# sourceMappingURL=main.622c9eaa.chunk.js.map