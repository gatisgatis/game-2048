(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{1:function(t,e,r){t.exports={contentWrapper:"App_contentWrapper__NRBO2",popupWrapper:"App_popupWrapper__1KNUp",popupCloseButton:"App_popupCloseButton__1A8qc",popup:"App_popup__fnS2L",popupTitle:"App_popupTitle__1dzie",popupButton:"App_popupButton__C8dyt",header:"App_header__2O_sm",title:"App_title__1Hxva",titleBig:"App_titleBig__3f4R2",titleSmall:"App_titleSmall__1RXSO",restartButton:"App_restartButton__rbdMu",scores:"App_scores__2QYLi",best:"App_best__32ga7",gridWrapper:"App_gridWrapper__16nn9",cell:"App_cell__Kvnv2",number:"App_number__VIpar",rules:"App_rules__27hDS",showArrowsButton:"App_showArrowsButton__2JG6a",controlsWrapper:"App_controlsWrapper__3RCl-",controlButtonWrapper:"App_controlButtonWrapper__3SVrZ",controlButton:"App_controlButton__1YJ25"}},15:function(t,e,r){},18:function(t,e,r){"use strict";r.r(e);var n=r(0),c=r(2),a=r.n(c),o=r(9),s=r.n(o),u=(r(15),r(4)),p=r(20),i=r(1),l=r.n(i),b=function(t,e){var r=Object(c.useState)(function(t,e){var r=localStorage.getItem(t);return r?JSON.parse(r):e}(t,e)),n=Object(u.a)(r,2),a=n[0],o=n[1];return[a,function(e){localStorage.setItem(t,JSON.stringify(e)),o(e)}]},j=r(3),O=r(5),d=r.n(O),f={ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right"},h=function(t,e){for(var r=Math.floor(t),n=[],c=0;c<r;c++)n.push(e);return n},_=function(t){for(var e=Object(j.a)(t),r=!1;!r;){var n=d.a.random(0,t.length-1);e[n]||(e[n]=d.a.random(10,!0)>9?4:2,r=!0)}return e},m=function(){var t=h(16,0);return t=_(t),_(t)},v=function(t,e){var r=[];if("left"===e||"right"===e)for(var n=0;n<4;n++)r.push(t.slice(4*n,4*n+4));if("up"===e||"down"===e)for(var c=0;c<4;c++){for(var a=[],o=0;o<4;o++)a.push(t[c+4*o]);r.push(a)}return r},A=function(t){for(var e=Object(j.a)(t),r=3;r>0;r--)for(var n=r-1;n>=0;n--)if(e[r]&&e[n]){if(e[r]!==e[n])break;e[r]*=2,e[n]=0;break}return e},N=function(t,e){if(!Object.keys(f).includes(e))return Object(j.a)(t);var r=f["".concat(e)],n=Object(j.a)(t),c=function(t,e){var r=[];return v(t,e).forEach((function(t,n){switch(e){case"right":r.push.apply(r,Object(j.a)(A(t)));break;case"left":t.reverse(),r.push.apply(r,Object(j.a)(A(t).reverse()));break;case"up":t.reverse(),t=A(t).reverse();for(var c=0;c<4;c++)r[4*c+n]=t[c];break;case"down":t=A(t);for(var a=0;a<4;a++)r[4*a+n]=t[a]}})),r}(t,r);return c=function(t,e){var r=[];return v(t,e).forEach((function(t,n){var c=t.filter((function(t){return t})),a=4-c.length,o=h(a,0),s=[];if("right"===e)s=[].concat(Object(j.a)(o),Object(j.a)(c)),r.push.apply(r,Object(j.a)(s));else if("left"===e)s=[].concat(Object(j.a)(c),Object(j.a)(o)),r.push.apply(r,Object(j.a)(s));else if("up"===e){s=[].concat(Object(j.a)(c),Object(j.a)(o));for(var u=0;u<4;u++)r[4*u+n]=s[u]}else{s=[].concat(Object(j.a)(o),Object(j.a)(c));for(var p=0;p<4;p++)r[4*p+n]=s[p]}})),r}(c,r),d.a.isEqual(n,c)||(c=_(c)),c},x=function(t){return t.reduce((function(t,e){return t+e}),0)},w=function(t){var e="5rem";return t>99999?e="1.4rem":t>9999?e="1.6rem":t>999?e="2rem":t>99?e="3rem":t>9&&(e="3.8rem"),e},g=function(t){var e=220+.5*t,r=220-.01*t;return"rgb(".concat(255-.2*t,", ").concat(e,", ").concat(r,")")},B=function(){var t=Object(c.useState)(""),e=Object(u.a)(t,2),r=e[0],a=e[1],o=Object(c.useState)(!1),s=Object(u.a)(o,2),i=s[0],j=s[1],O=Object(c.useState)(!1),f=Object(u.a)(O,2),h=f[0],_=f[1],v=Object(c.useState)(!1),A=Object(u.a)(v,2),B=A[0],S=A[1],y=b("bestResult2048game",0),C=Object(u.a)(y,2),k=C[0],E=C[1],W=Object(c.useRef)(m()),R=Object(c.useRef)(x(W.current)),L=Object(c.useRef)(!1),T=Object(c.useCallback)((function(t){a(t.key)}),[]),I=function(){document.body.addEventListener("keydown",T)},U=function(){document.body.removeEventListener("keydown",T)};return Object(c.useEffect)((function(){return window.innerWidth<600?S(!B):I(),function(){U()}}),[]),Object(c.useEffect)((function(){r&&(W.current=N(W.current,r),R.current=x(W.current),function(t){var e=d.a.isEqual(t,N(t,"ArrowRight")),r=d.a.isEqual(t,N(t,"ArrowLeft")),n=d.a.isEqual(t,N(t,"ArrowUp")),c=d.a.isEqual(t,N(t,"ArrowDown"));return!!(n&&c&&r&&e)}(W.current)&&j(!0),W.current.includes(2048)&&!L.current&&(_(!0),L.current=!0,U()),R.current>k&&E(R.current),a(""))}),[r]),Object(n.jsxs)("div",{className:l.a.contentWrapper,children:[Object(n.jsxs)("div",{className:l.a.header,children:[Object(n.jsxs)("div",{className:l.a.title,children:[Object(n.jsx)("span",{className:l.a.titleBig,children:"2048 "}),Object(n.jsx)("span",{className:l.a.titleSmall,children:"THE GAME"})]}),Object(n.jsx)("button",{type:"button",className:l.a.restartButton,onClick:function(){W.current=m(),a("restart"),L.current=!1},children:"RESTART"}),Object(n.jsxs)("div",{className:l.a.scores,children:[Object(n.jsxs)("div",{className:l.a.best,children:["BEST: ",k]}),Object(n.jsxs)("div",{className:l.a.currentScore,children:["SCORE: ",R.current]})]})]}),i&&Object(n.jsxs)("div",{className:l.a.popupWrapper,children:[Object(n.jsx)("button",{type:"button",className:l.a.popupCloseButton,onClick:function(){return j(!i)},children:"CLOSE"}),Object(n.jsxs)("div",{className:l.a.popup,children:[Object(n.jsx)("span",{className:l.a.popupTitle,children:"GAME OVER"}),Object(n.jsx)("button",{type:"button",className:l.a.popupButton,onClick:function(){W.current=m(),a("restart"),j(!i),L.current=!1},children:"PLAY AGAIN"})]})]}),h&&Object(n.jsxs)("div",{className:l.a.popupWrapper,children:[Object(n.jsx)("button",{type:"button",className:l.a.popupCloseButton,onClick:function(){_(!h),I()},children:"CLOSE"}),Object(n.jsxs)("div",{className:l.a.popup,children:[Object(n.jsx)("span",{className:l.a.popupTitle,children:"YOU WON"}),Object(n.jsx)("button",{className:l.a.popupButton,type:"button",onClick:function(){_(!h),I()},children:"CONTINUE PLAYING"})]})]}),Object(n.jsx)("div",{className:l.a.gridWrapper,children:W.current.map((function(t){return Object(n.jsx)("div",{className:l.a.cell,style:{backgroundColor:g(t),color:0===t?"transparent":" rgb(60, 60, 60)",fontSize:w(t)},children:Object(n.jsx)("div",{className:l.a.number,children:t})},Object(p.a)())}))}),B&&Object(n.jsxs)("div",{className:l.a.controlsWrapper,children:[Object(n.jsx)("div",{className:l.a.controlButtonWrapper,children:Object(n.jsx)("button",{type:"button",className:l.a.controlButton,onClick:function(){return a("ArrowUp")},children:"UP"})}),Object(n.jsxs)("div",{className:l.a.controlButtonWrapper,children:[Object(n.jsx)("button",{type:"button",className:l.a.controlButton,onClick:function(){return a("ArrowLeft")},children:"LEFT"}),Object(n.jsx)("button",{type:"button",className:l.a.controlButton,onClick:function(){return a("ArrowRight")},children:"RIGHT"})]}),Object(n.jsx)("div",{className:l.a.controlButtonWrapper,children:Object(n.jsx)("button",{type:"button",className:l.a.controlButton,onClick:function(){return a("ArrowDown")},children:"DOWN"})})]}),Object(n.jsxs)("div",{className:l.a.rules,children:["HOW TO PLAY: Use your arrow keys (or controls on screen) to move the tiles. Tiles with the same number merge into one when they touch. Add them up to reach 2048!",Object(n.jsx)("button",{type:"button",className:l.a.showArrowsButton,onClick:function(){S(!B),B?I():U()},children:B?"HIDE CONTROLS":"SHOW CONTROLS"})]})]})},S=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,21)).then((function(e){var r=e.getCLS,n=e.getFID,c=e.getFCP,a=e.getLCP,o=e.getTTFB;r(t),n(t),c(t),a(t),o(t)}))};s.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(B,{})}),document.getElementById("root")),S()}},[[18,1,2]]]);
//# sourceMappingURL=main.a8149fdf.chunk.js.map